[root@ip-172-31-34-18 vasu]# cat main.tf
provider "aws" {
  access_key = "AKIAWARYSVAQ64JPDBFC"
  secret_key = "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"
    region = "ap-northeast-1"
}

terraform {
  backend "s3" {
    bucket         = "mys3honey5"
    key            = "terraform.tfstate"
    region         = "ap-northeast-1"
  }
}

resource "aws_vpc" "main" {
  cidr_block       = "${var.vpc_cidr}"
  instance_tenancy = "default"

  tags = {
    Name        = "OMNIVPC"
    Environment = "${terraform.workspace}"
    Location    = "India"
  }
}

output "vpc_cidr" {
  value = "${aws_vpc.main.cidr_block}"
}
[root@ip-172-31-34-18 vasu]#


 104  terraform workspace list
  105  terraform workspace new dev prod
  106  terraform workspace new dev
  107  terraform workspace new prod
  108  terraform workspace list
  109  terraform workspace select dev
  110  terraform apply -auto-approve
  111  terraform workspace select prod
  112  terrafrom apply -auto-approve
  113  terraform apply -auto-approve
  114  vi main.tf
  115  terrafrom apply -auto-approve
  116  terraform apply -auto-approve
  117  terraform workspace
  118  terraform workspace list
  119  terraform workspace select default
  120  terraform workspace list
  121  terraform apply -auto-approve
  122  cat main.tf
  123  history
[root@ip-172-31-34-18 vasu]#



